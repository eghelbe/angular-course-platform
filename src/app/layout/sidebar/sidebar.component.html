<nav class="nav">

  <div class="nav-section">
    <h4>תוכן הקורס</h4>

    @for (track of tracks; track track.id) {
      <details open>
        <summary>{{ track.title }}</summary>

        @for (lesson of track.lessons; track lesson.slug) {
          <a
            [routerLink]="['/lesson', track.id, lesson.slug]"
            routerLinkActive="active"
          >
            {{ lesson.title }}
          </a>
        }
      </details>
    }
  </div>

  <div class="nav-section">
    <h4>דוגמאות</h4>

    @for (category of examples; track category.categoryId) {
      <details>
        <summary>{{ category.categoryTitle }}</summary>

        @for (project of category.projects; track project.id) {
          <a
            [routerLink]="['/examples', project.id]"
            routerLinkActive="active">
            {{ project.title }}
          </a>
        }
      </details>
    }
  </div>

  <div class="nav-section">
    <h4>תערוכה</h4>

    @for (year of showcases; track year.yearId) {
      <details>
        <summary>{{ year.yearTitle }}</summary>

        @for (semester of year.semesters; track semester.semesterId) {
          <details class="nested">
            <summary>{{ semester.semesterTitle }}</summary>

            @for (grade of semester.grades; track grade.gradeId) {
              <details class="nested deeper">
                <summary>{{ grade.gradeTitle }}</summary>

                @for (project of grade.projects; track project.id) {
                  <a
                    [routerLink]="[
                      '/showcase',
                      year.yearId,
                      semester.semesterId,
                      grade.gradeId,
                      project.id
                    ]"
                    routerLinkActive="active">
                    {{ project.studentName }} – {{ project.title }}
                  </a>
                }

              </details>
            }

          </details>
        }

      </details>
    }

  </div>

</nav>
